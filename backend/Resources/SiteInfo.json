{
  "scrape_presets":{
    "maxpreps": {
      "site_url": "https://www.maxpreps.com",
      "scraping": {
        "steps": [
          {
            "description": "State-level directory of teams",
            "scrape_method":["entry","access_each"],
            "pattern": "/{state}/{sport}/schools/"
          },
          {
            "description": "Main landing page for a specific team",
            "scrape_method": ["match","extract","append","access_each"],
            "append": {
              "string": "/roster/"
            },
            "match": {
              "pattern": "/{state}/{county}/{team_name}/{sport}",
              "tag": "a",
              "attr": "href"
            },
            "extract": {
              "type": "href"
            }
          },
          {
            "description": "Individual athlete profile page",
            "scrape_method": ["match","extract","access_each"],
            "match": {
              "regex_pattern": "careerid=[a-z0-9]+",
              "pattern": "/{state}/{county}/{team_name}/athletes/{name}/{career_id}",
              "tag": "a",
              "attr": "href"
            },
            "extract": {
              "type": "href"
            }
          },
          {
            "description": "Athlete Data Scraping: Targeting embedded JSON blob containing bio, stats, and timeline data",
            "scrape_method": ["match","extract","store"],
            "match": {
              "pattern": "__NEXT_DATA__",
              "tag": "script",
              "attr": "id"
            },
            "extract":{
              "type": "json"
            },
            "store": {
              "path": "PlayerData/",
              "method": "each"
            }
          }
        ]
      }
    }
  }
}




